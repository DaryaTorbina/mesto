(()=>{"use strict";var e,t,n,r=(n=".popup__form",(t="formSelector")in(e={formSelector:".popup__form",inputSelector:"popup__text",submitButtonSelector:"popup__button-save",inactiveButtonClass:"popup__button-save_inacive",inputErrorClass:"popup__text_type_error",errorClass:"popup__error_active"})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e),o=document.querySelector(".popup_profile"),i=(document.querySelector(".popup_mesto"),o.querySelector("#name-input")),a=o.querySelector("#about-input"),u=document.querySelector(".profile__avatar-edit"),c=document.querySelector(".profile"),s=c.querySelector(".profile__edit-button"),l=c.querySelector(".profile__add-button"),f="#element";function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(t){var n=t.address,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._address=n,this._headers=r}var t,n;return t=e,(n=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("".concat(e.status," ").concat(e.statusText))}},{key:"getUserInfo",value:function(){var e=this._address+"/users/me";return fetch(e,{headers:this._headers}).then(this._checkResponse)}},{key:"getInitialCards",value:function(){var e=this._address+"/cards";return fetch(e,{headers:this._headers}).then(this._checkResponse)}},{key:"getServerData",value:function(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}},{key:"updateUserInfo",value:function(e){var t=this._address+"/users/me";return fetch(t,{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._checkResponse)}},{key:"addNewMesto",value:function(e){var t=this._address+"/cards";return fetch(t,{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._checkResponse)}},{key:"removeMesto",value:function(e){var t=this._address+"/cards/".concat(e);return fetch(t,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"addLikeMesto",value:function(e){var t=this._address+"/cards/likes/".concat(e);return fetch(t,{method:"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"deleteLikeMesto",value:function(e){var t=this._address+"/cards/likes/".concat(e);return fetch(t,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"updateProfileAvatar",value:function(e){var t=this._address+"/users/me/avatar";return fetch(t,{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._checkResponse)}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t){var n=t.data,r=t.userId,o=t.cardSelector,i=t.handleCardClick,a=t.handleLikeButtonClick,u=t.handleRemoveButtonClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userId=r,this._userMesto=r===n.owner._id,this._imageLink=n.link,this._imageName=n.name,this._name=n.name,this._likes=n.likes,this._cardId=n._id,this._cardSelector=o,this._handleCardClick=i,this._handleLikeButtonClick=a,this._handleRemoveButtonClick=u}var t,n;return t=e,(n=[{key:"_getTemplateElement",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"_setEventListeners",value:function(){var e=this;this._userMesto&&this._element.querySelector(".element__delete").addEventListener("click",(function(t){e._handleRemoveButtonClick(t)})),this._buttonLike.addEventListener("click",(function(t){return e._handleLikeButtonClick(t)})),this._elementCardImage.addEventListener("click",(function(){return e._handleCardClick()}))}},{key:"generateCard",value:function(){return this._element=this._getTemplateElement(),this._buttonLike=this._element.querySelector(".element__like"),this._countLikeElement=this._element.querySelector(".element__like-count"),this._elementCardImage=this._element.querySelector(".element__image"),this._userMesto||this._element.querySelector(".element__delete").remove(),this._elementCardImage.src=this._imageLink,this._elementCardImage.alt=this._imageName,this._element.querySelector(".element__name").textContent=this._name,this._countLikeElement.textContent=this._likes.length,this._toggleLikeState(),this._setEventListeners(),this._element}},{key:"_toggleLikeState",value:function(){this._checkUserLike()?this.setLike():this.removeLike()}},{key:"setLike",value:function(){this._buttonLike.classList.add("element__like_active"),this.isLiked=!0}},{key:"removeLike",value:function(){this._buttonLike.classList.remove("element__like_active"),this.isLiked=!1}},{key:"updateLikes",value:function(e){this._countLikeElement.textContent=e.length}},{key:"_checkUserLike",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._userId}))}},{key:"getCardId",value:function(){return this._cardId}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(".".concat(this._config.inputSelector))),this._buttonElement=this._formElement.querySelector(".".concat(this._config.submitButtonSelector))}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));t.textContent=e.validationMessage,t.classList.add(this._config.errorClass),e.classList.add(this._config.inputErrorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));t.classList.remove(this._config.errorClass),t.textContent="",e.classList.remove(this._config.inputErrorClass)}},{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"_setEventListeners",value:function(){var e=this;this.toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e.toggleButtonState()}))}))}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"resetValidation",value:function(){var e=this;this.toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"toggleButtonState",value:function(){this._hasInvalidInput(this._inputList)?(this._buttonElement.classList.add(this._config.inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._config.inactiveButtonClass),this._buttonElement.disabled=!1)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._containerElement=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}},{key:"addNewItem",value:function(e){this._containerElement.prepend(e)}},{key:"addItem",value:function(e){this._containerElement.append(e)}}])&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupElement.classList.add("popup__open"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup__open"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListener",value:function(){var e=this;this._popupElement.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup__open")||t.target.classList.contains("popup__button-close"))&&e.close()}))}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=S(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},L.apply(this,arguments)}function S(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function P(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(r);if(o){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return P(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._popupForm=n._popupElement.querySelector(".popup__form"),n._inputs=n._popupForm.querySelectorAll(".popup__text"),n._submitCallback=t,n._formElementSubmitButton=n._popupForm.querySelector(".popup__button-save"),n}return t=a,(n=[{key:"getPopupForm",value:function(){return this._popupForm}},{key:"_getInputValues",value:function(){var e={};return this._inputs.forEach((function(t){e[t.name]=t.value})),e}},{key:"getFormInputValues",value:function(){return this._getInputValues()}},{key:"close",value:function(){this._popupForm.reset(),L(C(a.prototype),"close",this).call(this)}},{key:"setEventListener",value:function(){var e=this;this._popupForm.addEventListener("submit",(function(t){return e._submitCallback(t)})),L(C(a.prototype),"setEventListener",this).call(this)}},{key:"renderLoading",value:function(e){this._formElementSubmitButton.textContent=!0===e?"Сохранение...":"Сохранить"}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(g);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(){return q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=A(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},q.apply(this,arguments)}function A(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}function T(e,t){return T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},T(e,t)}function B(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(r);if(o){var n=x(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return B(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._popupElement=document.querySelector(e),t._popupZoomImageImg=t._popupElement.querySelector(".popup__image"),t._popupZoomImageTitle=t._popupElement.querySelector(".popup__description"),t}return t=a,(n=[{key:"open",value:function(e,t){this._popupZoomImageImg.src=e,this._popupZoomImageImg.alt=t,this._popupZoomImageTitle.textContent=t,q(x(a.prototype),"open",this).call(this)}}])&&R(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(g);function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(){return F="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=V(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},F.apply(this,arguments)}function V(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=H(e)););return e}function M(e,t){return M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},M(e,t)}function Z(e,t){if(t&&("object"===U(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=H(r);if(o){var n=H(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Z(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._formElement=t._popupElement.querySelector(".popup__form"),t}return t=a,(n=[{key:"setEventListener",value:function(){var e=this;this._formElement.addEventListener("submit",(function(t){return e._handlerSubmitForm(t)})),F(H(a.prototype),"setEventListener",this).call(this)}},{key:"changeHandlerSubmitForm",value:function(e){this._handlerSubmitForm=e}}])&&D(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(g);function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $=function(){function e(t){var n=t.inputProfileName,r=t.inputProfileAbout,o=t.inputProfileAvatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputProfileName=document.querySelector(n),this._inputProfileAbout=document.querySelector(r),this._inputProfileAvatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{userName:this._inputProfileName.textContent,userDescription:this._inputProfileAbout.textContent}}},{key:"setUserInfo",value:function(e){var t=e.userName,n=e.userDescription;this._inputProfileName.textContent=t,this._inputProfileAbout.textContent=n}},{key:"setUserAvatar",value:function(e){var t=e.userAvatarLink;this._inputProfileAvatar.src=t}},{key:"saveUserId",value:function(e){this._userId=e}},{key:"getUserId",value:function(){return this._userId}}])&&z(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var K=new h({address:"https://mesto.nomoreparties.co/v1/cohort-41",headers:{authorization:"b998bf4e-efa3-49ce-b447-6c7ee02ac497","Content-Type":"application/json"}}),Q=new $({inputProfileName:".profile__name",inputProfileAbout:".profile__about",inputProfileAvatar:".profile__avatar"});K.getServerData().then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];Q.setUserInfo({userName:i.name,userDescription:i.about}),Q.setUserAvatar({userAvatarLink:i.avatar}),Q.saveUserId(i._id),W.renderItems(o)})).catch((function(e){console.error(e)}));var W=new b({renderer:function(e){var t=ee(e,f);W.addItem(t)}},".elements"),X=new I(".popup_mesto",(function(e){e.preventDefault(),X.renderLoading(!0);var t=X.getFormInputValues(),n={name:t.name,link:t.url};K.addNewMesto(n).then((function(e){var t=ee(e,f);W.addNewItem(t),X.close()})).catch((function(e){console.error(e)})).finally((function(){X.renderLoading(!1)}))}));X.setEventListener();var Y=new m(r,X.getPopupForm());function ee(e,t){var n=new y({data:e,cardSelector:t,userId:Q.getUserId(),handleCardClick:function(){ae.open(e.link,e.name)},handleLikeButtonClick:function(){n.isLiked?K.deleteLikeMesto(n.getCardId()).then((function(e){n.removeLike(),n.updateLikes(e.likes)})).catch((function(e){console.error(e)})):K.addLikeMesto(n.getCardId()).then((function(e){n.setLike(),n.updateLikes(e.likes)})).catch((function(e){console.error(e)}))},handleRemoveButtonClick:function(e){var t=e.target.closest(".element"),r=n.getCardId();ie.changeHandlerSubmitForm((function(e){e.preventDefault(),K.removeMesto(r).then((function(){t.remove(),ie.close()})).catch((function(e){console.error(e)}))})),ie.open()}});return n.generateCard()}Y.enableValidation(),l.addEventListener("click",(function(){Y.resetValidation(),X.open()}));var te=new I(".popup_profile",(function(e){e.preventDefault(),te.renderLoading(!0);var t=te.getFormInputValues();K.updateUserInfo({name:t.nameinput,about:t.aboutinput}).then((function(e){Q.setUserInfo({userName:e.name,userDescription:e.about}),te.close()})).catch((function(e){console.error(e)})).finally((function(){te.renderLoading(!1)}))}));te.setEventListener();var ne=new m(r,te.getPopupForm());ne.enableValidation(),s.addEventListener("click",(function(){var e=Q.getUserInfo();a.value=e.userDescription,i.value=e.userName,ne.resetValidation(),te.open()}));var re=new I(".popup_newavatar",(function(e){e.preventDefault(),re.renderLoading(!0);var t=re.getFormInputValues();K.updateProfileAvatar({avatar:t.urlavatar}).then((function(e){Q.setUserAvatar({userAvatarLink:e.avatar}),re.close()})).catch((function(e){console.error(e)})).finally((function(){re.renderLoading(!1)}))}));re.setEventListener();var oe=new m(r,re.getPopupForm());oe.enableValidation(),u.addEventListener("click",(function(){oe.resetValidation(),re.open()}));var ie=new J(".popup_confirmation");ie.setEventListener();var ae=new N(".popup_zoom");ae.setEventListener()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQU8sSSxNQUFNQSxHLEVBT0csZ0IsRUFQRyxrQixFQUFBLENBQ2pCQyxhQUFjLGVBQ2RDLGNBQWUsY0FDZkMscUJBQXNCLHFCQUN0QkMsb0JBQXFCLDZCQUNyQkMsZ0JBQWlCLHlCQUNqQkMsV0FBWSx3Qix5RkFlREMsRUFBbUJDLFNBQVNDLGNBQWMsa0JBSTFDQyxHQUhnQkYsU0FBU0MsY0FBYyxnQkFHckJGLEVBQWlCRSxjQUFjLGdCQUNqREUsRUFBbUJKLEVBQWlCRSxjQUFjLGdCQUdsREcsRUFBMEJKLFNBQVNDLGNBQzlDLHlCQUdXSSxFQUFpQkwsU0FBU0MsY0FBYyxZQUV4Q0ssRUFBb0JELEVBQWVKLGNBQzlDLHlCQUVXTSxFQUFpQkYsRUFBZUosY0FDM0Msd0JBSVdPLEVBQWUsVywwS0MzQ1BDLEVBQUFBLFdBQ25CLGNBQWtDLElBQXBCQyxFQUFvQixFQUFwQkEsUUFBU0MsRUFBVyxFQUFYQSxTLDRGQUFXLFNBQy9CQyxLQUFLQyxTQUFXSCxFQUNoQkUsS0FBS0UsU0FBV0gsRSxtREFHbkIsU0FBZUksR0FDYixPQUFJQSxFQUFJQyxHQUNDRCxFQUFJRSxPQUVKQyxRQUFRQyxPQUFSLFVBQWtCSixFQUFJSyxPQUF0QixZQUFnQ0wsRUFBSU0sZSx5QkFJL0MsV0FDRSxJQUFNQyxFQUFhVixLQUFLQyxTQUFXLFlBQ25DLE9BQU9VLE1BQU1ELEVBQVksQ0FDdkJYLFFBQVNDLEtBQUtFLFdBQ2JVLEtBQUtaLEtBQUthLGtCLDZCQUdmLFdBQ0UsSUFBTUgsRUFBYVYsS0FBS0MsU0FBVyxTQUNuQyxPQUFPVSxNQUFNRCxFQUFZLENBQ3ZCWCxRQUFTQyxLQUFLRSxXQUNiVSxLQUFLWixLQUFLYSxrQiwyQkFHZixXQUNFLE9BQU9QLFFBQVFRLElBQUksQ0FBQ2QsS0FBS2Usa0JBQW1CZixLQUFLZ0Isa0IsNEJBR25ELFNBQWVDLEdBQ2IsSUFBTVAsRUFBYVYsS0FBS0MsU0FBVyxZQUNuQyxPQUFPVSxNQUFNRCxFQUFZLENBQ3ZCUSxPQUFRLFFBQ1JuQixRQUFTQyxLQUFLRSxTQUNkZSxLQUFNRSxLQUFLQyxVQUFVSCxLQUNwQkwsS0FBS1osS0FBS2Esa0IseUJBR2YsU0FBWUksR0FDVixJQUFNUCxFQUFhVixLQUFLQyxTQUFXLFNBQ25DLE9BQU9VLE1BQU1ELEVBQVksQ0FDdkJRLE9BQVEsT0FDUm5CLFFBQVNDLEtBQUtFLFNBQ2RlLEtBQU1FLEtBQUtDLFVBQVVILEtBQ3BCTCxLQUFLWixLQUFLYSxrQix5QkFHZixTQUFZUSxHQUNWLElBQU1YLEVBQWFWLEtBQUtDLFNBQUwsaUJBQTBCb0IsR0FDN0MsT0FBT1YsTUFBTUQsRUFBWSxDQUN2QlEsT0FBUSxTQUNSbkIsUUFBU0MsS0FBS0UsV0FDYlUsS0FBS1osS0FBS2Esa0IsMEJBR2YsU0FBYVEsR0FDWCxJQUFNWCxFQUFhVixLQUFLQyxTQUFMLHVCQUFnQ29CLEdBQ25ELE9BQU9WLE1BQU1ELEVBQVksQ0FDdkJRLE9BQVEsTUFDUm5CLFFBQVNDLEtBQUtFLFdBQ2JVLEtBQUtaLEtBQUthLGtCLDZCQUdmLFNBQWdCUSxHQUNkLElBQU1YLEVBQWFWLEtBQUtDLFNBQUwsdUJBQWdDb0IsR0FDbkQsT0FBT1YsTUFBTUQsRUFBWSxDQUN2QlEsT0FBUSxTQUNSbkIsUUFBU0MsS0FBS0UsV0FDYlUsS0FBS1osS0FBS2Esa0IsaUNBR2YsU0FBb0JJLEdBQ2xCLElBQU1QLEVBQWFWLEtBQUtDLFNBQUwsbUJBQ25CLE9BQU9VLE1BQU1ELEVBQVksQ0FDdkJRLE9BQVEsUUFDUm5CLFFBQVNDLEtBQUtFLFNBQ2RlLEtBQU1FLEtBQUtDLFVBQVVILEtBQ3BCTCxLQUFLWixLQUFLYSxxQixzRUFoRkloQixHLDBLQ0dBeUIsRUFBQUEsV0FDbkIsY0FPRyxJQU5EQyxFQU1DLEVBTkRBLEtBQ0FDLEVBS0MsRUFMREEsT0FDQTVCLEVBSUMsRUFKREEsYUFDQTZCLEVBR0MsRUFIREEsZ0JBQ0FDLEVBRUMsRUFGREEsc0JBQ0FDLEVBQ0MsRUFEREEseUIsNEZBQ0MsU0FDRDNCLEtBQUs0QixRQUFVSixFQUNmeEIsS0FBSzZCLFdBQWFMLElBQVdELEVBQUtPLE1BQU1DLElBQ3hDL0IsS0FBS2dDLFdBQWFULEVBQUtVLEtBQ3ZCakMsS0FBS2tDLFdBQWFYLEVBQUtZLEtBQ3ZCbkMsS0FBS29DLE1BQVFiLEVBQUtZLEtBQ2xCbkMsS0FBS3FDLE9BQVNkLEVBQUtlLE1BQ25CdEMsS0FBS3VDLFFBQVVoQixFQUFLUSxJQUNwQi9CLEtBQUt3QyxjQUFnQjVDLEVBQ3JCSSxLQUFLeUMsaUJBQW1CaEIsRUFDeEJ6QixLQUFLMEMsdUJBQXlCaEIsRUFDOUIxQixLQUFLMkMseUJBQTJCaEIsRSx3REFHbEMsV0FDRSxPQUFPdkMsU0FDSkMsY0FBY1csS0FBS3dDLGVBQ25CSSxRQUFRdkQsY0FBYyxZQUN0QndELFdBQVUsSyxnQ0FHZixXQUFxQixXQUNmN0MsS0FBSzZCLFlBQ1A3QixLQUFLOEMsU0FDRnpELGNBQWMsb0JBQ2QwRCxpQkFBaUIsU0FBUyxTQUFDQyxHQUMxQixFQUFLTCx5QkFBeUJLLE1BR3BDaEQsS0FBS2lELFlBQVlGLGlCQUFpQixTQUFTLFNBQUNDLEdBQUQsT0FDekMsRUFBS04sdUJBQXVCTSxNQUU5QmhELEtBQUtrRCxrQkFBa0JILGlCQUFpQixTQUFTLGtCQUMvQyxFQUFLTix3QiwwQkFJVCxXQW9CRSxPQW5CQXpDLEtBQUs4QyxTQUFXOUMsS0FBS21ELHNCQUNyQm5ELEtBQUtpRCxZQUFjakQsS0FBSzhDLFNBQVN6RCxjQUFjLGtCQUMvQ1csS0FBS29ELGtCQUFvQnBELEtBQUs4QyxTQUFTekQsY0FDckMsd0JBRUZXLEtBQUtrRCxrQkFDSGxELEtBQUs4QyxTQUFTekQsY0FBYyxtQkFDekJXLEtBQUs2QixZQUNSN0IsS0FBSzhDLFNBQVN6RCxjQUFjLG9CQUFvQmdFLFNBR2xEckQsS0FBS2tELGtCQUFrQkksSUFBTXRELEtBQUtnQyxXQUNsQ2hDLEtBQUtrRCxrQkFBa0JLLElBQU12RCxLQUFLa0MsV0FDbENsQyxLQUFLOEMsU0FBU3pELGNBQWMsa0JBQWtCbUUsWUFBY3hELEtBQUtvQyxNQUNqRXBDLEtBQUtvRCxrQkFBa0JJLFlBQWN4RCxLQUFLcUMsT0FBT29CLE9BRWpEekQsS0FBSzBELG1CQUNMMUQsS0FBSzJELHFCQUVFM0QsS0FBSzhDLFcsOEJBR2QsV0FDTTlDLEtBQUs0RCxpQkFDUDVELEtBQUs2RCxVQUVMN0QsS0FBSzhELGUscUJBSVQsV0FDRTlELEtBQUtpRCxZQUFZYyxVQUFVQyxJQUFJLHdCQUMvQmhFLEtBQUtpRSxTQUFVLEksd0JBR2pCLFdBQ0VqRSxLQUFLaUQsWUFBWWMsVUFBVVYsT0FBTyx3QkFDbENyRCxLQUFLaUUsU0FBVSxJLHlCQUdqQixTQUFZMUMsR0FDVnZCLEtBQUtvRCxrQkFBa0JJLFlBQWNqQyxFQUFLa0MsUyw0QkFHNUMsV0FBaUIsV0FDZixPQUFPekQsS0FBS3FDLE9BQU82QixNQUFLLFNBQUNDLEdBQUQsT0FBVUEsRUFBS3BDLE1BQVEsRUFBS0gsYSx1QkFHdEQsV0FDRSxPQUFPNUIsS0FBS3VDLGEsc0VBL0ZLakIsRywwS0NIQThDLEVBQUFBLFdBQ25CLFdBQVl4RixFQUFReUYsSSw0RkFBYSxTQUMvQnJFLEtBQUtzRSxRQUFVMUYsRUFDZm9CLEtBQUt1RSxhQUFlRixFQUNwQnJFLEtBQUt3RSxXQUFhQyxNQUFNQyxLQUN0QjFFLEtBQUt1RSxhQUFhSSxpQkFBbEIsV0FBdUMzRSxLQUFLc0UsUUFBUXhGLGlCQUV0RGtCLEtBQUs0RSxlQUFpQjVFLEtBQUt1RSxhQUFhbEYsY0FBbEIsV0FDaEJXLEtBQUtzRSxRQUFRdkYsdUIsb0RBMENyQixTQUFnQjhGLEdBRWQsSUFBTUMsRUFBZTlFLEtBQUt1RSxhQUFhbEYsY0FBbEIsV0FDZndGLEVBQWFFLEdBREUsV0FHckJELEVBQWF0QixZQUFjcUIsRUFBYUcsa0JBQ3hDRixFQUFhZixVQUFVQyxJQUFJaEUsS0FBS3NFLFFBQVFwRixZQUN4QzJGLEVBQWFkLFVBQVVDLElBQUloRSxLQUFLc0UsUUFBUXJGLG1CLDZCQUcxQyxTQUFnQjRGLEdBRWQsSUFBTUMsRUFBZTlFLEtBQUt1RSxhQUFhbEYsY0FBbEIsV0FDZndGLEVBQWFFLEdBREUsV0FHckJELEVBQWFmLFVBQVVWLE9BQU9yRCxLQUFLc0UsUUFBUXBGLFlBQzNDNEYsRUFBYXRCLFlBQWMsR0FDM0JxQixFQUFhZCxVQUFVVixPQUFPckQsS0FBS3NFLFFBQVFyRixtQiw4QkF2QzdDLFdBQ0VlLEtBQUsyRCx1QixnQ0FHUCxXQUFxQixXQUNuQjNELEtBQUtpRixvQkFDTGpGLEtBQUt3RSxXQUFXVSxTQUFRLFNBQUNMLEdBQ3ZCQSxFQUFhOUIsaUJBQWlCLFNBQVMsV0FDckMsRUFBS29DLG9CQUFvQk4sR0FDekIsRUFBS0ksNEIsaUNBS1gsU0FBb0JKLEdBQ2JBLEVBQWFPLFNBQVNDLE1BR3pCckYsS0FBS3NGLGdCQUFnQlQsR0FGckI3RSxLQUFLdUYsZ0JBQWdCVixLLDZCQTBCekIsV0FBa0IsV0FDaEI3RSxLQUFLaUYsb0JBRUxqRixLQUFLd0UsV0FBV1UsU0FBUSxTQUFDTCxHQUN2QixFQUFLUyxnQkFBZ0JULFEsK0JBSXpCLFdBQ003RSxLQUFLd0YsaUJBQWlCeEYsS0FBS3dFLGFBQzdCeEUsS0FBSzRFLGVBQWViLFVBQVVDLElBQUloRSxLQUFLc0UsUUFBUXRGLHFCQUMvQ2dCLEtBQUs0RSxlQUFlYSxVQUFXLElBRS9CekYsS0FBSzRFLGVBQWViLFVBQVVWLE9BQU9yRCxLQUFLc0UsUUFBUXRGLHFCQUNsRGdCLEtBQUs0RSxlQUFlYSxVQUFXLEssOEJBSW5DLFdBQ0UsT0FBT3pGLEtBQUt3RSxXQUFXTixNQUFLLFNBQVVXLEdBQ3BDLE9BQVFBLEVBQWFPLFNBQVNDLGMsc0VBMUZmakIsRywwS0NTQXNCLEVBQUFBLFdBQ25CLGFBQTBCQyxHQUFtQixJQUEvQkMsRUFBK0IsRUFBL0JBLFUsNEZBQStCLFNBQzNDNUYsS0FBSzZGLFVBQVlELEVBQ2pCNUYsS0FBSzhGLGtCQUFvQjFHLFNBQVNDLGNBQWNzRyxHLGdEQUdsRCxTQUFZSSxHQUFPLFdBQ2pCQSxFQUFNYixTQUFRLFNBQUNmLEdBQ2IsRUFBSzBCLFVBQVUxQixRLHdCQUluQixTQUFXQSxHQUNUbkUsS0FBSzhGLGtCQUFrQkUsUUFBUTdCLEsscUJBR2pDLFNBQVFBLEdBQ05uRSxLQUFLOEYsa0JBQWtCRyxPQUFPOUIsUSxzRUFqQmJ1QixHLDBLQ1RBUSxFQUFBQSxXQUNuQixXQUFZQyxJLDRGQUFlLFNBQ3pCbkcsS0FBS29HLGNBQWdCaEgsU0FBU0MsY0FBYzhHLEdBQzVDbkcsS0FBS3FHLGdCQUFrQnJHLEtBQUtxRyxnQkFBZ0JDLEtBQUt0RyxNLHlDQUduRCxXQUNFQSxLQUFLb0csY0FBY3JDLFVBQVVDLElBQUksZUFDakM1RSxTQUFTMkQsaUJBQWlCLFVBQVcvQyxLQUFLcUcsbUIsbUJBRzVDLFdBQ0VyRyxLQUFLb0csY0FBY3JDLFVBQVVWLE9BQU8sZUFDcENqRSxTQUFTbUgsb0JBQW9CLFVBQVd2RyxLQUFLcUcsbUIsNkJBRy9DLFNBQWdCckQsR0FDRSxXQUFaQSxFQUFJd0QsS0FDTnhHLEtBQUt5RyxVLDhCQUlULFdBQW1CLFdBQ2pCekcsS0FBS29HLGNBQWNyRCxpQkFBaUIsYUFBYSxTQUFDQyxJQUU5Q0EsRUFBSTBELE9BQU8zQyxVQUFVNEMsU0FBUyxnQkFDOUIzRCxFQUFJMEQsT0FBTzNDLFVBQVU0QyxTQUFTLHlCQUU5QixFQUFLRixnQixzRUE1QlFQLEcsK3RDQ0VBVSxFQUFBQSxTQUFBQSxJLDZyQkFDbkIsV0FBWVQsRUFBZVUsR0FBZ0IsYSw0RkFBQSxVQUN6QyxjQUFNVixJQUNEVyxXQUFhLEVBQUtWLGNBQWMvRyxjQUFjLGdCQUVuRCxFQUFLMEgsUUFBVSxFQUFLRCxXQUFXbkMsaUJBQWlCLGdCQUNoRCxFQUFLcUMsZ0JBQWtCSCxFQUN2QixFQUFLSSx5QkFBMkIsRUFBS0gsV0FBV3pILGNBQzlDLHVCQVB1QyxFLHlDQVkzQyxXQUNFLE9BQU9XLEtBQUs4RyxhLDZCQUlkLFdBQ0UsSUFBTUksRUFBYyxHQUlwQixPQUhBbEgsS0FBSytHLFFBQVE3QixTQUFRLFNBQUNpQyxHQUNwQkQsRUFBWUMsRUFBTWhGLE1BQVFnRixFQUFNQyxTQUUzQkYsSSxnQ0FJVCxXQUNFLE9BQU9sSCxLQUFLcUgsb0IsbUJBSWQsV0FDRXJILEtBQUs4RyxXQUFXUSxRQUNoQiw0Qyw4QkFHRixXQUFtQixXQUNqQnRILEtBQUs4RyxXQUFXL0QsaUJBQWlCLFVBQVUsU0FBQ0MsR0FBRCxPQUN6QyxFQUFLZ0UsZ0JBQWdCaEUsTUFFdkIsdUQsMkJBR0YsU0FBZXVFLEdBRVh2SCxLQUFLaUgseUJBQXlCekQsYUFEZCxJQUFkK0QsRUFDMEMsZ0JBRUEsaUIsc0VBaEQ3QlgsQ0FBc0JWLEcsK3RDQ0F0QnNCLEVBQUFBLFNBQUFBLEksNnJCQUNuQixXQUFZckIsR0FBZSxhLDRGQUFBLFVBQ3pCLGNBQU1BLElBQ0RDLGNBQWdCaEgsU0FBU0MsY0FBYzhHLEdBQzVDLEVBQUtzQixtQkFBcUIsRUFBS3JCLGNBQWMvRyxjQUFjLGlCQUMzRCxFQUFLcUkscUJBQXVCLEVBQUt0QixjQUFjL0csY0FDN0MsdUJBTHVCLEUsaUNBUzNCLFNBQUs0QyxFQUFNRSxHQUNUbkMsS0FBS3lILG1CQUFtQm5FLElBQU1yQixFQUM5QmpDLEtBQUt5SCxtQkFBbUJsRSxJQUFNcEIsRUFDOUJuQyxLQUFLMEgscUJBQXFCbEUsWUFBY3JCLEVBQ3hDLDhDLHNFQWRpQnFGLENBQXVCdEIsRywrdENDQXZCeUIsRUFBQUEsU0FBQUEsSSw2ckJBQ25CLFdBQVl4QixHQUFlLGEsNEZBQUEsVUFDekIsY0FBTUEsSUFDRDVCLGFBQWUsRUFBSzZCLGNBQWMvRyxjQUFjLGdCQUY1QixFLDZDQUszQixXQUFtQixXQUNqQlcsS0FBS3VFLGFBQWF4QixpQkFBaUIsVUFBVSxTQUFDQyxHQUFELE9BQzNDLEVBQUs0RSxtQkFBbUI1RSxNQUUxQix1RCxxQ0FHRixTQUF3QjZFLEdBQ3RCN0gsS0FBSzRILG1CQUFxQkMsTyxzRUFkVEYsQ0FBeUJ6QixHLDBLQ0V6QjRCLEVBQUFBLFdBQ25CLGNBQXlFLElBQTNEQyxFQUEyRCxFQUEzREEsaUJBQWtCQyxFQUF5QyxFQUF6Q0Esa0JBQW1CQyxFQUFzQixFQUF0QkEsb0IsNEZBQXNCLFNBQ3ZFakksS0FBS2tJLGtCQUFvQjlJLFNBQVNDLGNBQWMwSSxHQUNoRC9ILEtBQUttSSxtQkFBcUIvSSxTQUFTQyxjQUFjMkksR0FDakRoSSxLQUFLb0ksb0JBQXNCaEosU0FBU0MsY0FBYzRJLEcsZ0RBR3BELFdBQ0UsTUFBTyxDQUNMSSxTQUFVckksS0FBS2tJLGtCQUFrQjFFLFlBQ2pDOEUsZ0JBQWlCdEksS0FBS21JLG1CQUFtQjNFLGUseUJBSTdDLFlBQTJDLElBQTdCNkUsRUFBNkIsRUFBN0JBLFNBQVVDLEVBQW1CLEVBQW5CQSxnQkFDdEJ0SSxLQUFLa0ksa0JBQWtCMUUsWUFBYzZFLEVBQ3JDckksS0FBS21JLG1CQUFtQjNFLFlBQWM4RSxJLDJCQUd4QyxZQUFrQyxJQUFsQkMsRUFBa0IsRUFBbEJBLGVBQ2R2SSxLQUFLb0ksb0JBQW9COUUsSUFBTWlGLEksd0JBR2pDLFNBQVcvRyxHQUNUeEIsS0FBSzRCLFFBQVVKLEksdUJBRWpCLFdBQ0UsT0FBT3hCLEtBQUs0QixhLHNFQTNCS2tHLEcsMEdDMEJyQixJQUFNVSxFQUFNLElBQUkzSSxFVndCYyxDQUM1QkMsUUFBUyw4Q0FDVEMsUUFBUyxDQUNQMEksY0FBZSx1Q0FDZixlQUFnQixzQlUxQmRDLEVBQVcsSUFBSVosRUFBUyxDQUM1QkMsaUJWaEI4QixpQlVpQjlCQyxrQlZoQitCLGtCVWlCL0JDLG1CVm5CZ0MscUJVd0JsQ08sRUFDR0csZ0JBQ0EvSCxNQUFLLFNBQUNnSSxHQUNMLEksSUFBQSxHLEVBQUEsRSw0Q0FBNkJBLEksZ3hCQUF0QkMsRUFBUCxLQUFpQkMsRUFBakIsS0FDQUosRUFBU0ssWUFBWSxDQUNuQlYsU0FBVVMsRUFBUzNHLEtBQ25CbUcsZ0JBQWlCUSxFQUFTRSxRQUU1Qk4sRUFBU08sY0FBYyxDQUFFVixlQUFnQk8sRUFBU0ksU0FDbERSLEVBQVNTLFdBQVdMLEVBQVMvRyxLQUM3QnFILEVBQU1DLFlBQVlSLE1BRW5CUyxPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLE1BQU1GLE1BS2xCLElBQU1ILEVBQVEsSUFBSTFELEVBQ2hCLENBQ0VFLFNBQVUsU0FBQ3pCLEdBQ1QsSUFBTXVGLEVBQWNDLEdBQWN4RixFQUFNdkUsR0FDeEN3SixFQUFNUSxRQUFRRixLVnBCa0IsYVUwQmhDRyxFQUFnQixJQUFJakQsRVZ6RGUsZ0JVeUQwQixTQUFDNUQsR0FDbEVBLEVBQUk4RyxpQkFDSkQsRUFBY0UsZUFBYyxHQUM1QixJQUFNQyxFQUFhSCxFQUFjSSxxQkFFM0I5RixFQUFPLENBQUVoQyxLQUFNNkgsRUFBVzdILEtBQU1GLEtBQU0rSCxFQUFXRSxLQUN2RDFCLEVBQ0cyQixZQUFZaEcsR0FDWnZELE1BQUssU0FBQ3dKLEdBQ0wsSUFBTVYsRUFBY0MsR0FBY1MsRUFBYXhLLEdBQy9Dd0osRUFBTWlCLFdBQVdYLEdBQ2pCRyxFQUFjcEQsV0FFZjZDLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsTUFBTUYsTUFFZmUsU0FBUSxXQUNQVCxFQUFjRSxlQUFjLFNBR2xDRixFQUFjVSxtQkFDZCxJQUFNQyxFQUFzQixJQUFJcEcsRUFDOUJ4RixFQUNBaUwsRUFBY1ksZ0JBSWhCLFNBQVNkLEdBQWN4RixFQUFNdkUsR0FDM0IsSUFBTThLLEVBQU8sSUFBSXBKLEVBQUssQ0FDcEJDLEtBQU00QyxFQUNOdkUsYUFBQUEsRUFDQTRCLE9BQVFrSCxFQUFTaUMsWUFDakJsSixnQkFBaUIsV0FDZm1KLEdBQVVDLEtBQUsxRyxFQUFLbEMsS0FBTWtDLEVBQUtoQyxPQUVqQ1Qsc0JBQXVCLFdBQ2pCZ0osRUFBS3pHLFFBQ1B1RSxFQUNHc0MsZ0JBQWdCSixFQUFLSyxhQUNyQm5LLE1BQUssU0FBQ1csR0FDTG1KLEVBQUs1RyxhQUNMNEcsRUFBS00sWUFBWXpKLEVBQUtlLFVBRXZCZ0gsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxNQUFNRixNQUdsQmYsRUFDR3lDLGFBQWFQLEVBQUtLLGFBQ2xCbkssTUFBSyxTQUFDVyxHQUNMbUosRUFBSzdHLFVBQ0w2RyxFQUFLTSxZQUFZekosRUFBS2UsVUFFdkJnSCxPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLE1BQU1GLE9BSXRCNUgsd0JBQXlCLFNBQUNxQixHQUN4QixJQUFNMEcsRUFBYzFHLEVBQUkwRCxPQUFPd0UsUUFBUSxZQUNqQ0MsRUFBU1QsRUFBS0ssWUFDcEJLLEdBQWFDLHlCQUF3QixTQUFDckksR0FDcENBLEVBQUk4RyxpQkFDSnRCLEVBQ0c4QyxZQUFZSCxHQUNadkssTUFBSyxXQUNKOEksRUFBWXJHLFNBQ1orSCxHQUFhM0UsV0FFZDZDLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsTUFBTUYsU0FHcEI2QixHQUFhUCxVQUdqQixPQUFPSCxFQUFLYSxlQW5EZGYsRUFBb0JnQixtQkFzRHBCN0wsRUFBZW9ELGlCQUFpQixTQUFTLFdBQ3ZDeUgsRUFBb0JpQixrQkFDcEI1QixFQUFjZ0IsVUFJaEIsSUFBTWEsR0FBWSxJQUFJOUUsRVYvSWMsa0JVK0lzQixTQUFDNUQsR0FDekRBLEVBQUk4RyxpQkFDSjRCLEdBQVUzQixlQUFjLEdBQ3hCLElBQU00QixFQUFrQkQsR0FBVXpCLHFCQUNsQ3pCLEVBQ0dvRCxlQUFlLENBQ2R6SixLQUFNd0osRUFBZ0JFLFVBQ3RCN0MsTUFBTzJDLEVBQWdCRyxhQUV4QmxMLE1BQUssU0FBQ1csR0FDTG1ILEVBQVNLLFlBQVksQ0FDbkJWLFNBQVU5RyxFQUFLWSxLQUNmbUcsZ0JBQWlCL0csRUFBS3lILFFBRXhCMEMsR0FBVWpGLFdBRVg2QyxPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLE1BQU1GLE1BRWZlLFNBQVEsV0FDUG9CLEdBQVUzQixlQUFjLFNBRzlCMkIsR0FBVW5CLG1CQUVWLElBQU13QixHQUF3QixJQUFJM0gsRUFDaEN4RixFQUNBOE0sR0FBVWpCLGdCQUVac0IsR0FBc0JQLG1CQUV0QjlMLEVBQWtCcUQsaUJBQWlCLFNBQVMsV0FDMUMsSUFBTWlKLEVBQWV0RCxFQUFTMUgsY0FDOUJ6QixFQUFpQjZILE1BQVE0RSxFQUFhMUQsZ0JBQ3RDaEosRUFBZ0I4SCxNQUFRNEUsRUFBYTNELFNBQ3JDMEQsR0FBc0JOLGtCQUN0QkMsR0FBVWIsVUFLWixJQUFNb0IsR0FBYyxJQUFJckYsRVZwTGlCLG9CVW9Md0IsU0FBQzVELEdBQ2hFQSxFQUFJOEcsaUJBQ0ptQyxHQUFZbEMsZUFBYyxHQUMxQixJQUFNNEIsRUFBa0JNLEdBQVloQyxxQkFDcEN6QixFQUNHMEQsb0JBQW9CLENBQUVoRCxPQUFReUMsRUFBZ0JRLFlBQzlDdkwsTUFBSyxTQUFDVyxHQUNMbUgsRUFBU08sY0FBYyxDQUFFVixlQUFnQmhILEVBQUsySCxTQUM5QytDLEdBQVl4RixXQUViNkMsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxNQUFNRixNQUVmZSxTQUFRLFdBQ1AyQixHQUFZbEMsZUFBYyxTQUdoQ2tDLEdBQVkxQixtQkFFWixJQUFNNkIsR0FBdUIsSUFBSWhJLEVBQy9CeEYsRUFDQXFOLEdBQVl4QixnQkFFZDJCLEdBQXFCWixtQkFFckJoTSxFQUF3QnVELGlCQUFpQixTQUFTLFdBQ2hEcUosR0FBcUJYLGtCQUNyQlEsR0FBWXBCLFVBSWQsSUFBTU8sR0FBZSxJQUFJekQsRVZwTlcsdUJVcU5wQ3lELEdBQWFiLG1CQUdiLElBQU1LLEdBQVksSUFBSXBELEVWek5XLGVVME5qQ29ELEdBQVVMLG9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCJwb3B1cF9fdGV4dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcInBvcHVwX19idXR0b24tc2F2ZVwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J1dHRvbi1zYXZlX2luYWNpdmVcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX3RleHRfdHlwZV9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yX2FjdGl2ZVwiLFxyXG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBwb3B1cFByb2ZpbGVTZWxlY3RvciA9IFwiLnBvcHVwX3Byb2ZpbGVcIjtcclxuZXhwb3J0IGNvbnN0IHBvcHVwRWxlbWVudFBob3RvU2VsZWN0b3IgPSBcIi5wb3B1cF9tZXN0b1wiO1xyXG5leHBvcnQgY29uc3QgcG9wdXBab29tU2VsZWN0b3IgPSBcIi5wb3B1cF96b29tXCI7XHJcbmV4cG9ydCBjb25zdCBwb3B1cENvbmZpcm1TZWxlY3RvciA9IFwiLnBvcHVwX2NvbmZpcm1hdGlvblwiO1xyXG5leHBvcnQgY29uc3QgcG9wdXBVcGRhdGVBdmF0YXJTZWxlY3RvciA9IFwiLnBvcHVwX25ld2F2YXRhclwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGlucHV0UHJvZmlsZUF2YXRhciA9IFwiLnByb2ZpbGVfX2F2YXRhclwiO1xyXG5leHBvcnQgY29uc3QgaW5wdXRQcm9maWxlTmFtZSA9IFwiLnByb2ZpbGVfX25hbWVcIjtcclxuZXhwb3J0IGNvbnN0IGlucHV0UHJvZmlsZUFib3V0ID0gXCIucHJvZmlsZV9fYWJvdXRcIjtcclxuXHJcbi8v0LzQvtC00LDQu9C60LhcclxuZXhwb3J0IGNvbnN0IGVkaXRNb2RhbFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3Byb2ZpbGVcIik7XHJcbmV4cG9ydCBjb25zdCBhZGRNb2RhbE1lc3RvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9tZXN0b1wiKTtcclxuXHJcbi8v0L/QvtC70Y9cclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVEYXRhTmFtZSA9IGVkaXRNb2RhbFByb2ZpbGUucXVlcnlTZWxlY3RvcihcIiNuYW1lLWlucHV0XCIpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZURhdGFBYm91dCA9IGVkaXRNb2RhbFByb2ZpbGUucXVlcnlTZWxlY3RvcihcIiNhYm91dC1pbnB1dFwiKTtcclxuXHJcbi8vcG9wdXAg0LrQvdC+0L/QutC4XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlQXZhdGFyRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucHJvZmlsZV9fYXZhdGFyLWVkaXRcIlxyXG4pO1xyXG5cclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGVkaXRQcm9maWxlQnV0dG9uID0gcHJvZmlsZUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBhZGRNZXN0b0J1dHRvbiA9IHByb2ZpbGVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiXHJcbik7XHJcblxyXG5leHBvcnQgY29uc3QgY2FyZHNDb250YWluZXJTZWxlY3RvciA9IFwiLmVsZW1lbnRzXCI7XHJcbmV4cG9ydCBjb25zdCBjYXJkU2VsZWN0b3IgPSBcIiNlbGVtZW50XCI7XHJcblxyXG4vLyBleHBvcnQgY29uc3QgcG9wdXBab29tQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuLy8gICBcIi5wb3B1cF9fY29udGFpbmVyX3pvb21cIlxyXG4vLyApO1xyXG4vLyBleHBvcnQgY29uc3QgcG9wdXBab29tSW1hZ2VJbWcgPVxyXG4vLyAgIHBvcHVwWm9vbUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcclxuLy8gZXhwb3J0IGNvbnN0IHBvcHVwWm9vbUltYWdlVGl0bGUgPSBwb3B1cFpvb21Db250YWluZXIucXVlcnlTZWxlY3RvcihcclxuLy8gICBcIi5wb3B1cF9fZGVzY3JpcHRpb25cIlxyXG4vLyApO1xyXG5cclxuZXhwb3J0IGNvbnN0IG1lc3RvQXBpQ29uZmlnID0ge1xyXG4gIGFkZHJlc3M6IFwiaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00MVwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IGBiOTk4YmY0ZS1lZmEzLTQ5Y2UtYjQ0Ny02YzdlZTAyYWM0OTdgLFxyXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gIH1cclxufTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGFkZHJlc3MsIGhlYWRlcnMgfSkge1xyXG4gICAgIHRoaXMuX2FkZHJlc3MgPSBhZGRyZXNzO1xyXG4gICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzIDtcclxuICB9XHJcblxyXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgJHtyZXMuc3RhdHVzfSAke3Jlcy5zdGF0dXNUZXh0fWApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICBjb25zdCByZXF1ZXN0VXJsID0gdGhpcy5fYWRkcmVzcyArICcvdXNlcnMvbWUnO1xyXG4gICAgcmV0dXJuIGZldGNoKHJlcXVlc3RVcmwsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICBjb25zdCByZXF1ZXN0VXJsID0gdGhpcy5fYWRkcmVzcyArICcvY2FyZHMnO1xyXG4gICAgcmV0dXJuIGZldGNoKHJlcXVlc3RVcmwsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBnZXRTZXJ2ZXJEYXRhKCkge1xyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLmdldEluaXRpYWxDYXJkcygpLCB0aGlzLmdldFVzZXJJbmZvKCldKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVVzZXJJbmZvKGJvZHkpIHtcclxuICAgIGNvbnN0IHJlcXVlc3RVcmwgPSB0aGlzLl9hZGRyZXNzICsgJy91c2Vycy9tZSc7XHJcbiAgICByZXR1cm4gZmV0Y2gocmVxdWVzdFVybCwge1xyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGFkZE5ld01lc3RvKGJvZHkpIHtcclxuICAgIGNvbnN0IHJlcXVlc3RVcmwgPSB0aGlzLl9hZGRyZXNzICsgJy9jYXJkcyc7XHJcbiAgICByZXR1cm4gZmV0Y2gocmVxdWVzdFVybCwge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlTWVzdG8oY2FyZElEKSB7XHJcbiAgICBjb25zdCByZXF1ZXN0VXJsID0gdGhpcy5fYWRkcmVzcyArIGAvY2FyZHMvJHtjYXJkSUR9YDtcclxuICAgIHJldHVybiBmZXRjaChyZXF1ZXN0VXJsLCB7XHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgYWRkTGlrZU1lc3RvKGNhcmRJRCkge1xyXG4gICAgY29uc3QgcmVxdWVzdFVybCA9IHRoaXMuX2FkZHJlc3MgKyBgL2NhcmRzL2xpa2VzLyR7Y2FyZElEfWA7XHJcbiAgICByZXR1cm4gZmV0Y2gocmVxdWVzdFVybCwge1xyXG4gICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUxpa2VNZXN0byhjYXJkSUQpIHtcclxuICAgIGNvbnN0IHJlcXVlc3RVcmwgPSB0aGlzLl9hZGRyZXNzICsgYC9jYXJkcy9saWtlcy8ke2NhcmRJRH1gO1xyXG4gICAgcmV0dXJuIGZldGNoKHJlcXVlc3RVcmwsIHtcclxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVQcm9maWxlQXZhdGFyKGJvZHkpIHtcclxuICAgIGNvbnN0IHJlcXVlc3RVcmwgPSB0aGlzLl9hZGRyZXNzICsgYC91c2Vycy9tZS9hdmF0YXJgO1xyXG4gICAgcmV0dXJuIGZldGNoKHJlcXVlc3RVcmwsIHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG59XHJcbiIsIi8vIFwiLmVsZW1lbnRfX2RlbGV0ZVwiIFwiLmVsZW1lbnRfX2xpa2VcIik7XCIuZWxlbWVudF9fbGlrZS1jb3VudFwiKTtcIi5lbGVtZW50X19pbWFnZVwiKTtcIi5lbGVtZW50X19kZWxldGVcIikucmVtb3ZlKCk7XHJcbi8vICAgICB9XCIuZWxlbWVudF9fbmFtZVwiKTtcImVsZW1lbnRfX2xpa2VfYWN0aXZlXCJcImVsZW1lbnRfX2xpa2VfYWN0aXZlXCIpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3Ioe1xyXG4gICAgZGF0YSxcclxuICAgIHVzZXJJZCxcclxuICAgIGNhcmRTZWxlY3RvcixcclxuICAgIGhhbmRsZUNhcmRDbGljayxcclxuICAgIGhhbmRsZUxpa2VCdXR0b25DbGljayxcclxuICAgIGhhbmRsZVJlbW92ZUJ1dHRvbkNsaWNrLFxyXG4gIH0pIHtcclxuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcclxuICAgIHRoaXMuX3VzZXJNZXN0byA9IHVzZXJJZCA9PT0gZGF0YS5vd25lci5faWQ7XHJcbiAgICB0aGlzLl9pbWFnZUxpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl9pbWFnZU5hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xyXG4gICAgdGhpcy5fY2FyZElkID0gZGF0YS5faWQ7XHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uQ2xpY2sgPSBoYW5kbGVMaWtlQnV0dG9uQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVSZW1vdmVCdXR0b25DbGljayA9IGhhbmRsZVJlbW92ZUJ1dHRvbkNsaWNrO1xyXG4gIH1cclxuICAvLyDQvdCw0YXQvtC00LjQvCDQsiBkb20g0Lgg0LrQu9C+0L3QuNGA0YPQtdC8XHJcbiAgX2dldFRlbXBsYXRlRWxlbWVudCgpIHtcclxuICAgIHJldHVybiBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudFwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgaWYgKHRoaXMuX3VzZXJNZXN0bykge1xyXG4gICAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fZGVsZXRlXCIpXHJcbiAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl9oYW5kbGVSZW1vdmVCdXR0b25DbGljayhldnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fYnV0dG9uTGlrZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT5cclxuICAgICAgdGhpcy5faGFuZGxlTGlrZUJ1dHRvbkNsaWNrKGV2dClcclxuICAgICk7XHJcbiAgICB0aGlzLl9lbGVtZW50Q2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxyXG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soKVxyXG4gICAgKTtcclxuICB9XHJcbiAgLy/Qv9C10YDQtdC/0LjRgdCw0LvQsCAu0L/Rg9GC0LDQvdC40YbQsCDQsiDQv9C10YDQtdC80LXQvdC90YvRhVxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZUVsZW1lbnQoKTtcclxuICAgIHRoaXMuX2J1dHRvbkxpa2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fbGlrZVwiKTtcclxuICAgIHRoaXMuX2NvdW50TGlrZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLmVsZW1lbnRfX2xpa2UtY291bnRcIlxyXG4gICAgKTtcclxuICAgIHRoaXMuX2VsZW1lbnRDYXJkSW1hZ2UgPVxyXG4gICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1hZ2VcIik7XHJcbiAgICBpZiAoIXRoaXMuX3VzZXJNZXN0bykge1xyXG4gICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fZGVsZXRlXCIpLnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2VsZW1lbnRDYXJkSW1hZ2Uuc3JjID0gdGhpcy5faW1hZ2VMaW5rO1xyXG4gICAgdGhpcy5fZWxlbWVudENhcmRJbWFnZS5hbHQgPSB0aGlzLl9pbWFnZU5hbWU7XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fbmFtZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9jb3VudExpa2VFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG5cclxuICAgIHRoaXMuX3RvZ2dsZUxpa2VTdGF0ZSgpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcblxyXG4gIF90b2dnbGVMaWtlU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5fY2hlY2tVc2VyTGlrZSgpKSB7XHJcbiAgICAgIHRoaXMuc2V0TGlrZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5yZW1vdmVMaWtlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRMaWtlKCkge1xyXG4gICAgdGhpcy5fYnV0dG9uTGlrZS5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudF9fbGlrZV9hY3RpdmVcIik7XHJcbiAgICB0aGlzLmlzTGlrZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlTGlrZSgpIHtcclxuICAgIHRoaXMuX2J1dHRvbkxpa2UuY2xhc3NMaXN0LnJlbW92ZShcImVsZW1lbnRfX2xpa2VfYWN0aXZlXCIpO1xyXG4gICAgdGhpcy5pc0xpa2VkID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVMaWtlcyhkYXRhKSB7XHJcbiAgICB0aGlzLl9jb3VudExpa2VFbGVtZW50LnRleHRDb250ZW50ID0gZGF0YS5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tVc2VyTGlrZSgpIHtcclxuICAgIHJldHVybiB0aGlzLl9saWtlcy5zb21lKChpdGVtKSA9PiBpdGVtLl9pZCA9PT0gdGhpcy5fdXNlcklkKTtcclxuICB9XHJcblxyXG4gIGdldENhcmRJZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9jYXJkSWQ7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke3RoaXMuX2NvbmZpZy5pbnB1dFNlbGVjdG9yfWApXG4gICAgKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAuJHt0aGlzLl9jb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3J9YFxuICAgICk7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7IC8vLy8vLy8vLy8vLy9cbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7IC8vLy8vLy8vLy8vLy8vXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpOyAvLy8vLy8vLy8vXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7IC8vLy8vLy8vXG4gIH1cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICB9XG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICAvLy8vLy8vLy9cbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbiAgfVxuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dExpc3QpKSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoZnVuY3Rpb24gKGlucHV0RWxlbWVudCkge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cbn1cbiIsIi8v0L7RgtCy0LXRh9Cw0LXRgiDQt9CwINC+0YLRgNC40YHQvtCy0LrRgyDRjdC70LXQvNC10L3RgtC+0LIg0L3QsCDRgdGC0YDQsNC90LjRhtC1XHJcbi8v0KMg0LrQu9Cw0YHRgdCwIFNlY3Rpb24g0L3QtdGCINGB0LLQvtC10Lkg0YDQsNC30LzQtdGC0LrQuC4g0J7QvSDQv9C+0LvRg9GH0LDQtdGCINGA0LDQt9C80LXRgtC60YMg0YfQtdGA0LXQtyDRhNGD0L3QutGG0LjRji3QutC+0LvQsdGN0Log0Lgg0LLRgdGC0LDQstC70Y/QtdGCINC10ZEg0LIg0LrQvtC90YLQtdC50L3QtdGALlxyXG5cclxuLy/Qn9C10YDQstGL0Lwg0L/QsNGA0LDQvNC10YLRgNC+0Lwg0LrQvtC90YHRgtGA0YPQutGC0L7RgNCwINC/0YDQuNC90LjQvNCw0LXRgiDQvtCx0YrQtdC60YIg0YEg0LTQstGD0LzRjyDRgdCy0L7QudGB0YLQstCw0LzQuFxyXG4vL9Ch0LLQvtC50YHRgtCy0L4gaXRlbXMg4oCUINGN0YLQviDQvNCw0YHRgdC40LIg0LTQsNC90L3Ri9GFLCDQutC+0YLQvtGA0YvQtSDQvdGD0LbQvdC+XHJcbi8v0LTQvtCx0LDQstC40YLRjCDQvdCwINGB0YLRgNCw0L3QuNGG0YMg0L/RgNC4INC40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNC4INC60LvQsNGB0YHQsC9cclxuLy/QodCy0L7QudGB0YLQstC+IHJlbmRlcmVyIOKAlCDRjdGC0L4g0YTRg9C90LrRhtC40Y8sINC60L7RgtC+0YDQsNGPINC+0YLQstC10YfQsNC10YIg0LfQsCDRgdC+0LfQtNCw0L3QuNC1INC4INC+0YLRgNC40YHQvtCy0LrRgyDQtNCw0L3QvdGL0YUg0L3QsCDRgdGC0YDQsNC90LjRhtC1XHJcbi8v0JLRgtC+0YDQvtC5INC/0LDRgNCw0LzQtdGC0YAg0LrQvtC90YHRgtGA0YPQutGC0L7RgNCwIOKAlCDRgdC10LvQtdC60YLQvtGAINC60L7QvdGC0LXQudC90LXRgNCwLCDQsiDQutC+0YLQvtGA0YvQuSDQvdGD0LbQvdC+INC00L7QsdCw0LLQu9GP0YLRjCDRgdC+0LfQtNCw0L3QvdGL0LUg0Y3Qu9C10LzQtdC90YLRiy5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcyhpdGVtcykge1xyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkTmV3SXRlbShpdGVtKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXJFbGVtZW50LnByZXBlbmQoaXRlbSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGl0ZW0pIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lckVsZW1lbnQuYXBwZW5kKGl0ZW0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX19vcGVuXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX19vcGVuXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcigpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldnQpID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfX29wZW5cIikgfHxcclxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19idXR0b24tY2xvc2VcIilcclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHN1Ym1pdENhbGxiYWNrKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG5cclxuICAgIHRoaXMuX2lucHV0cyA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX190ZXh0XCIpO1xyXG4gICAgdGhpcy5fc3VibWl0Q2FsbGJhY2sgPSBzdWJtaXRDYWxsYmFjaztcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50U3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLnBvcHVwX19idXR0b24tc2F2ZVwiXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy/Qv9C10YDQtdC00LDQtdC8INGE0L7RgNC80YMg0LTQsNC90L3Ri9C1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gIGdldFBvcHVwRm9ybSgpIHtcclxuICAgIHJldHVybiB0aGlzLl9wb3B1cEZvcm07XHJcbiAgfVxyXG5cclxuICAvL9GB0LHQuNGA0LDQtdGCINC00LDQvdC90YvQtSDQstGB0LXRhSDQv9C+0LvQtdC5INGE0L7RgNC80YtcclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcclxuICB9XHJcblxyXG4gIC8v0L/QtdGA0LXQtNCw0LXQvCDQv9C+0LvRjyDQuNC90L/Rg9GCXHJcbiAgZ2V0Rm9ybUlucHV0VmFsdWVzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2dldElucHV0VmFsdWVzKCk7XHJcbiAgfVxyXG5cclxuICAvLyDQv9C10YDQtdC30LDQv9C40YHRi9Cy0LDQtdGCINGA0L7QtNC40YLQtdC70YzRgdC60LjQuSAsINGB0LHRgNCw0YHRi9Cy0LDQtdGC0YHRj1xyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gIH1cclxuICAvL9C/0LXRgNC10LfQsNC/0LjRgdGL0LLQsNC10YIg0YDQvtC00LjRgtC10LvRjNGB0LrQuNC5INC80LXRgtC+0LQvINC00L7QsdCw0LvRj9C10YIg0L7QsdGA0LDQsdC+0YLRh9C40Log0LrQu9C40LrQsCDQv9C+INC30LDQutGA0YvRgtC40Y4g0Lgg0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQsNCx0LzQuNGC0LAg0YTQvtGA0LzRi1xyXG4gIHNldEV2ZW50TGlzdGVuZXIoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PlxyXG4gICAgICB0aGlzLl9zdWJtaXRDYWxsYmFjayhldnQpXHJcbiAgICApO1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcigpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyTG9hZGluZyAoaXNMb2FkaW5nKSB7XHJcbiAgICBpZiAoaXNMb2FkaW5nID09PSB0cnVlKSB7XHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50U3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnRTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC40YLRjFwiO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwWm9vbUltYWdlSW1nID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fcG9wdXBab29tSW1hZ2VUaXRsZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5wb3B1cF9fZGVzY3JpcHRpb25cIlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIG9wZW4obGluaywgbmFtZSkge1xyXG4gICAgdGhpcy5fcG9wdXBab29tSW1hZ2VJbWcuc3JjID0gbGluaztcclxuICAgIHRoaXMuX3BvcHVwWm9vbUltYWdlSW1nLmFsdCA9IG5hbWU7XHJcbiAgICB0aGlzLl9wb3B1cFpvb21JbWFnZVRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXIoKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+XHJcbiAgICAgIHRoaXMuX2hhbmRsZXJTdWJtaXRGb3JtKGV2dClcclxuICAgICk7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVyKCk7XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VIYW5kbGVyU3VibWl0Rm9ybShzdWJtaXRBY3Rpb24pIHtcclxuICAgIHRoaXMuX2hhbmRsZXJTdWJtaXRGb3JtID0gc3VibWl0QWN0aW9uO1xyXG4gIH1cclxufVxyXG4iLCIvLyDQvtGC0LLQtdGH0LDQtdGCINC30LAg0YPQv9GA0LDQstC70LXQvdC40LUg0L7RgtC+0LHRgNCw0LbQtdC90LjQtdC8INC40L3RhNC+0YDQvNCw0YbQuNC4INC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtSDQvdCwINGB0YLRgNCw0L3QuNGG0LVcclxuXHJcbi8v0J/RgNC40L3QuNC80LDQtdGCINCyINC60L7QvdGB0YLRgNGD0LrRgtC+0YAg0L7QsdGK0LXQutGCINGBINGB0LXQu9C10LrRgtC+0YDQsNC80Lgg0LTQstGD0YUg0Y3Qu9C10LzQtdC90YLQvtCyOiDRjdC70LXQvNC10L3RgtCwXHJcbi8v0LjQvNC10L3QuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0Lgg0Y3Qu9C10LzQtdC90YLQsCDQuNC90YTQvtGA0LzQsNGG0LjQuCDQviDRgdC10LHQtS5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaW5wdXRQcm9maWxlTmFtZSwgaW5wdXRQcm9maWxlQWJvdXQsIGlucHV0UHJvZmlsZUF2YXRhciB9KSB7XHJcbiAgICB0aGlzLl9pbnB1dFByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbnB1dFByb2ZpbGVOYW1lKTtcclxuICAgIHRoaXMuX2lucHV0UHJvZmlsZUFib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbnB1dFByb2ZpbGVBYm91dCk7XHJcbiAgICB0aGlzLl9pbnB1dFByb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGlucHV0UHJvZmlsZUF2YXRhcik7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHVzZXJOYW1lOiB0aGlzLl9pbnB1dFByb2ZpbGVOYW1lLnRleHRDb250ZW50LFxyXG4gICAgICB1c2VyRGVzY3JpcHRpb246IHRoaXMuX2lucHV0UHJvZmlsZUFib3V0LnRleHRDb250ZW50LFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHsgdXNlck5hbWUsIHVzZXJEZXNjcmlwdGlvbiB9KSB7XHJcbiAgICB0aGlzLl9pbnB1dFByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gdXNlck5hbWU7XHJcbiAgICB0aGlzLl9pbnB1dFByb2ZpbGVBYm91dC50ZXh0Q29udGVudCA9IHVzZXJEZXNjcmlwdGlvbjtcclxuICB9XHJcblxyXG4gIHNldFVzZXJBdmF0YXIoeyB1c2VyQXZhdGFyTGluayB9KSB7XHJcbiAgICB0aGlzLl9pbnB1dFByb2ZpbGVBdmF0YXIuc3JjID0gdXNlckF2YXRhckxpbms7XHJcbiAgfVxyXG5cclxuICBzYXZlVXNlcklkKHVzZXJJZCkge1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gIH1cclxuICBnZXRVc2VySWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdXNlcklkO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuaW1wb3J0IHtcbiAgY29uZmlnLFxuICBwb3B1cFByb2ZpbGVTZWxlY3RvcixcbiAgcG9wdXBFbGVtZW50UGhvdG9TZWxlY3RvcixcbiAgcG9wdXBab29tU2VsZWN0b3IsXG4gIHBvcHVwVXBkYXRlQXZhdGFyU2VsZWN0b3IsXG4gIHByb2ZpbGVBdmF0YXJFZGl0QnV0dG9uLFxuICBpbnB1dFByb2ZpbGVOYW1lLFxuICBpbnB1dFByb2ZpbGVBYm91dCxcbiAgaW5wdXRQcm9maWxlQXZhdGFyLFxuICBlZGl0UHJvZmlsZUJ1dHRvbixcbiAgYWRkTWVzdG9CdXR0b24sXG4gIHBvcHVwQ29uZmlybVNlbGVjdG9yLFxuICBjYXJkc0NvbnRhaW5lclNlbGVjdG9yLFxuICBjYXJkU2VsZWN0b3IsXG4gIHByb2ZpbGVEYXRhQWJvdXQsXG4gIHByb2ZpbGVEYXRhTmFtZSxcbiAgbWVzdG9BcGlDb25maWcsXG59IGZyb20gXCIuLi9jb21wb25lbnRzL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBDb25maXJtYXRpb24uanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuXG4vL9C30LDQv9GA0L7RgdGLINC6INGB0LXRgNCy0LXRgNGDXG5jb25zdCBhcGkgPSBuZXcgQXBpKG1lc3RvQXBpQ29uZmlnKTtcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBpbnB1dFByb2ZpbGVOYW1lLFxuICBpbnB1dFByb2ZpbGVBYm91dCxcbiAgaW5wdXRQcm9maWxlQXZhdGFyLFxufSk7XG5cbi8v0L/QtdGA0LLQvtC90LDRh9Cw0LvRjNC90YvQtSDQtNCw0L3QvdGL0LUg0YEg0YHQtdGA0LLQtdGA0LBcblxuYXBpXG4gIC5nZXRTZXJ2ZXJEYXRhKClcbiAgLnRoZW4oKHJlc3BvbnNlcykgPT4ge1xuICAgIGNvbnN0IFtjYXJkRGF0YSwgdXNlckRhdGFdID0gcmVzcG9uc2VzO1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHtcbiAgICAgIHVzZXJOYW1lOiB1c2VyRGF0YS5uYW1lLFxuICAgICAgdXNlckRlc2NyaXB0aW9uOiB1c2VyRGF0YS5hYm91dCxcbiAgICB9KTtcbiAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKHsgdXNlckF2YXRhckxpbms6IHVzZXJEYXRhLmF2YXRhciB9KTtcbiAgICB1c2VySW5mby5zYXZlVXNlcklkKHVzZXJEYXRhLl9pZCk7XG4gICAgY2FyZHMucmVuZGVySXRlbXMoY2FyZERhdGEpO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgfSk7XG5cbi8vLy8vL9Ca0JDQoNCi0J7Qp9Ca0Jhcbi8vINC+0YLRgNC40YHQvtCy0LrQsCDQutCw0YDRgtC+0YfQtdC6XG5jb25zdCBjYXJkcyA9IG5ldyBTZWN0aW9uKFxuICB7XG4gICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZU5ld0NhcmQoaXRlbSwgY2FyZFNlbGVjdG9yKTtcbiAgICAgIGNhcmRzLmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xuICAgIH0sXG4gIH0sXG4gIGNhcmRzQ29udGFpbmVyU2VsZWN0b3Jcbik7XG5cbmNvbnN0IGFkZE1vZGFsTWVzdG8gPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEVsZW1lbnRQaG90b1NlbGVjdG9yLCAoZXZ0KSA9PiB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICBhZGRNb2RhbE1lc3RvLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gIGNvbnN0IGZvcm1WYWx1ZXMgPSBhZGRNb2RhbE1lc3RvLmdldEZvcm1JbnB1dFZhbHVlcygpO1xuXG4gIGNvbnN0IGl0ZW0gPSB7IG5hbWU6IGZvcm1WYWx1ZXMubmFtZSwgbGluazogZm9ybVZhbHVlcy51cmwgfTtcbiAgYXBpXG4gICAgLmFkZE5ld01lc3RvKGl0ZW0pXG4gICAgLnRoZW4oKG5ld0NhcmRJdGVtKSA9PiB7XG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZU5ld0NhcmQobmV3Q2FyZEl0ZW0sIGNhcmRTZWxlY3Rvcik7XG4gICAgICBjYXJkcy5hZGROZXdJdGVtKGNhcmRFbGVtZW50KTtcbiAgICAgIGFkZE1vZGFsTWVzdG8uY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBhZGRNb2RhbE1lc3RvLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xuICAgIH0pO1xufSk7XG5hZGRNb2RhbE1lc3RvLnNldEV2ZW50TGlzdGVuZXIoKTtcbmNvbnN0IHBvcHVwVmFsaWRhdG9yTWVzdG8gPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgY29uZmlnLFxuICBhZGRNb2RhbE1lc3RvLmdldFBvcHVwRm9ybSgpXG4pO1xucG9wdXBWYWxpZGF0b3JNZXN0by5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmZ1bmN0aW9uIGNyZWF0ZU5ld0NhcmQoaXRlbSwgY2FyZFNlbGVjdG9yKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZCh7XG4gICAgZGF0YTogaXRlbSxcbiAgICBjYXJkU2VsZWN0b3IsXG4gICAgdXNlcklkOiB1c2VySW5mby5nZXRVc2VySWQoKSxcbiAgICBoYW5kbGVDYXJkQ2xpY2s6ICgpID0+IHtcbiAgICAgIHBvcHVwWm9vbS5vcGVuKGl0ZW0ubGluaywgaXRlbS5uYW1lKTtcbiAgICB9LFxuICAgIGhhbmRsZUxpa2VCdXR0b25DbGljazogKCkgPT4ge1xuICAgICAgaWYgKGNhcmQuaXNMaWtlZCkge1xuICAgICAgICBhcGlcbiAgICAgICAgICAuZGVsZXRlTGlrZU1lc3RvKGNhcmQuZ2V0Q2FyZElkKCkpXG4gICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGNhcmQucmVtb3ZlTGlrZSgpO1xuICAgICAgICAgICAgY2FyZC51cGRhdGVMaWtlcyhkYXRhLmxpa2VzKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcGlcbiAgICAgICAgICAuYWRkTGlrZU1lc3RvKGNhcmQuZ2V0Q2FyZElkKCkpXG4gICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGNhcmQuc2V0TGlrZSgpO1xuICAgICAgICAgICAgY2FyZC51cGRhdGVMaWtlcyhkYXRhLmxpa2VzKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVSZW1vdmVCdXR0b25DbGljazogKGV2dCkgPT4ge1xuICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBldnQudGFyZ2V0LmNsb3Nlc3QoXCIuZWxlbWVudFwiKTtcbiAgICAgIGNvbnN0IGNhcmRJZCA9IGNhcmQuZ2V0Q2FyZElkKCk7XG4gICAgICBwb3B1cENvbmZpcm0uY2hhbmdlSGFuZGxlclN1Ym1pdEZvcm0oKGV2dCkgPT4ge1xuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYXBpXG4gICAgICAgICAgLnJlbW92ZU1lc3RvKGNhcmRJZClcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBjYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgIHBvcHVwQ29uZmlybS5jbG9zZSgpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcG9wdXBDb25maXJtLm9wZW4oKTtcbiAgICB9LFxuICB9KTtcbiAgcmV0dXJuIGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG59XG5cbmFkZE1lc3RvQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHBvcHVwVmFsaWRhdG9yTWVzdG8ucmVzZXRWYWxpZGF0aW9uKCk7XG4gIGFkZE1vZGFsTWVzdG8ub3BlbigpO1xufSk7XG5cbi8vLy8v0J/QoNCe0KTQmNCb0KxcbmNvbnN0IHBvcHVwVXNlciA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwUHJvZmlsZVNlbGVjdG9yLCAoZXZ0KSA9PiB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICBwb3B1cFVzZXIucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgY29uc3QgZm9ybUlucHV0VmFsdWVzID0gcG9wdXBVc2VyLmdldEZvcm1JbnB1dFZhbHVlcygpO1xuICBhcGlcbiAgICAudXBkYXRlVXNlckluZm8oe1xuICAgICAgbmFtZTogZm9ybUlucHV0VmFsdWVzLm5hbWVpbnB1dCxcbiAgICAgIGFib3V0OiBmb3JtSW5wdXRWYWx1ZXMuYWJvdXRpbnB1dCxcbiAgICB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7XG4gICAgICAgIHVzZXJOYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIHVzZXJEZXNjcmlwdGlvbjogZGF0YS5hYm91dCxcbiAgICAgIH0pO1xuICAgICAgcG9wdXBVc2VyLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcG9wdXBVc2VyLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xuICAgIH0pO1xufSk7XG5wb3B1cFVzZXIuc2V0RXZlbnRMaXN0ZW5lcigpO1xuXG5jb25zdCBwb3B1cFZhbGlkYXRvclByb2ZpbGUgPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgY29uZmlnLFxuICBwb3B1cFVzZXIuZ2V0UG9wdXBGb3JtKClcbik7XG5wb3B1cFZhbGlkYXRvclByb2ZpbGUuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5lZGl0UHJvZmlsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjb25zdCB1c2VySW5mb0RhdGEgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBwcm9maWxlRGF0YUFib3V0LnZhbHVlID0gdXNlckluZm9EYXRhLnVzZXJEZXNjcmlwdGlvbjtcbiAgcHJvZmlsZURhdGFOYW1lLnZhbHVlID0gdXNlckluZm9EYXRhLnVzZXJOYW1lO1xuICBwb3B1cFZhbGlkYXRvclByb2ZpbGUucmVzZXRWYWxpZGF0aW9uKCk7XG4gIHBvcHVwVXNlci5vcGVuKCk7XG59KTtcblxuLy8vLy8v0JDQktCQ0KLQkNCgXG4vL9C30LDQv9C40YHRjCDQsiDQv9C+0L/QsNC/XG5jb25zdCBwb3B1cEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwVXBkYXRlQXZhdGFyU2VsZWN0b3IsIChldnQpID0+IHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIHBvcHVwQXZhdGFyLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gIGNvbnN0IGZvcm1JbnB1dFZhbHVlcyA9IHBvcHVwQXZhdGFyLmdldEZvcm1JbnB1dFZhbHVlcygpO1xuICBhcGlcbiAgICAudXBkYXRlUHJvZmlsZUF2YXRhcih7IGF2YXRhcjogZm9ybUlucHV0VmFsdWVzLnVybGF2YXRhciB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKHsgdXNlckF2YXRhckxpbms6IGRhdGEuYXZhdGFyIH0pO1xuICAgICAgcG9wdXBBdmF0YXIuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBwb3B1cEF2YXRhci5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICB9KTtcbn0pO1xucG9wdXBBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcigpO1xuXG5jb25zdCBwb3B1cEF2YXRhclZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICBjb25maWcsXG4gIHBvcHVwQXZhdGFyLmdldFBvcHVwRm9ybSgpXG4pO1xucG9wdXBBdmF0YXJWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpOyAvL1xuXG5wcm9maWxlQXZhdGFyRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwb3B1cEF2YXRhclZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbiAgcG9wdXBBdmF0YXIub3BlbigpO1xufSk7XG5cbi8vLy8v0KPQlNCQ0JvQldCd0JjQlVxuY29uc3QgcG9wdXBDb25maXJtID0gbmV3IFBvcHVwV2l0aENvbmZpcm0ocG9wdXBDb25maXJtU2VsZWN0b3IpO1xucG9wdXBDb25maXJtLnNldEV2ZW50TGlzdGVuZXIoKTtcblxuLy8vLy/Qo9CS0JXQm9CY0KfQldCd0JjQlVxuY29uc3QgcG9wdXBab29tID0gbmV3IFBvcHVwV2l0aEltYWdlKHBvcHVwWm9vbVNlbGVjdG9yKTtcbnBvcHVwWm9vbS5zZXRFdmVudExpc3RlbmVyKCk7XG4iXSwibmFtZXMiOlsiY29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJlZGl0TW9kYWxQcm9maWxlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicHJvZmlsZURhdGFOYW1lIiwicHJvZmlsZURhdGFBYm91dCIsInByb2ZpbGVBdmF0YXJFZGl0QnV0dG9uIiwicHJvZmlsZUVsZW1lbnQiLCJlZGl0UHJvZmlsZUJ1dHRvbiIsImFkZE1lc3RvQnV0dG9uIiwiY2FyZFNlbGVjdG9yIiwiQXBpIiwiYWRkcmVzcyIsImhlYWRlcnMiLCJ0aGlzIiwiX2FkZHJlc3MiLCJfaGVhZGVycyIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwicmVxdWVzdFVybCIsImZldGNoIiwidGhlbiIsIl9jaGVja1Jlc3BvbnNlIiwiYWxsIiwiZ2V0SW5pdGlhbENhcmRzIiwiZ2V0VXNlckluZm8iLCJib2R5IiwibWV0aG9kIiwiSlNPTiIsInN0cmluZ2lmeSIsImNhcmRJRCIsIkNhcmQiLCJkYXRhIiwidXNlcklkIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlTGlrZUJ1dHRvbkNsaWNrIiwiaGFuZGxlUmVtb3ZlQnV0dG9uQ2xpY2siLCJfdXNlcklkIiwiX3VzZXJNZXN0byIsIm93bmVyIiwiX2lkIiwiX2ltYWdlTGluayIsImxpbmsiLCJfaW1hZ2VOYW1lIiwibmFtZSIsIl9uYW1lIiwiX2xpa2VzIiwibGlrZXMiLCJfY2FyZElkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlTGlrZUJ1dHRvbkNsaWNrIiwiX2hhbmRsZVJlbW92ZUJ1dHRvbkNsaWNrIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsIl9idXR0b25MaWtlIiwiX2VsZW1lbnRDYXJkSW1hZ2UiLCJfZ2V0VGVtcGxhdGVFbGVtZW50IiwiX2NvdW50TGlrZUVsZW1lbnQiLCJyZW1vdmUiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsIl90b2dnbGVMaWtlU3RhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfY2hlY2tVc2VyTGlrZSIsInNldExpa2UiLCJyZW1vdmVMaWtlIiwiY2xhc3NMaXN0IiwiYWRkIiwiaXNMaWtlZCIsInNvbWUiLCJpdGVtIiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiX2NvbmZpZyIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2J1dHRvbkVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZWQiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXJFbGVtZW50IiwiaXRlbXMiLCJwcmVwZW5kIiwiYXBwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXRDYWxsYmFjayIsIl9wb3B1cEZvcm0iLCJfaW5wdXRzIiwiX3N1Ym1pdENhbGxiYWNrIiwiX2Zvcm1FbGVtZW50U3VibWl0QnV0dG9uIiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJpc0xvYWRpbmciLCJQb3B1cFdpdGhJbWFnZSIsIl9wb3B1cFpvb21JbWFnZUltZyIsIl9wb3B1cFpvb21JbWFnZVRpdGxlIiwiUG9wdXBXaXRoQ29uZmlybSIsIl9oYW5kbGVyU3VibWl0Rm9ybSIsInN1Ym1pdEFjdGlvbiIsIlVzZXJJbmZvIiwiaW5wdXRQcm9maWxlTmFtZSIsImlucHV0UHJvZmlsZUFib3V0IiwiaW5wdXRQcm9maWxlQXZhdGFyIiwiX2lucHV0UHJvZmlsZU5hbWUiLCJfaW5wdXRQcm9maWxlQWJvdXQiLCJfaW5wdXRQcm9maWxlQXZhdGFyIiwidXNlck5hbWUiLCJ1c2VyRGVzY3JpcHRpb24iLCJ1c2VyQXZhdGFyTGluayIsImFwaSIsImF1dGhvcml6YXRpb24iLCJ1c2VySW5mbyIsImdldFNlcnZlckRhdGEiLCJyZXNwb25zZXMiLCJjYXJkRGF0YSIsInVzZXJEYXRhIiwic2V0VXNlckluZm8iLCJhYm91dCIsInNldFVzZXJBdmF0YXIiLCJhdmF0YXIiLCJzYXZlVXNlcklkIiwiY2FyZHMiLCJyZW5kZXJJdGVtcyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiY2FyZEVsZW1lbnQiLCJjcmVhdGVOZXdDYXJkIiwiYWRkSXRlbSIsImFkZE1vZGFsTWVzdG8iLCJwcmV2ZW50RGVmYXVsdCIsInJlbmRlckxvYWRpbmciLCJmb3JtVmFsdWVzIiwiZ2V0Rm9ybUlucHV0VmFsdWVzIiwidXJsIiwiYWRkTmV3TWVzdG8iLCJuZXdDYXJkSXRlbSIsImFkZE5ld0l0ZW0iLCJmaW5hbGx5Iiwic2V0RXZlbnRMaXN0ZW5lciIsInBvcHVwVmFsaWRhdG9yTWVzdG8iLCJnZXRQb3B1cEZvcm0iLCJjYXJkIiwiZ2V0VXNlcklkIiwicG9wdXBab29tIiwib3BlbiIsImRlbGV0ZUxpa2VNZXN0byIsImdldENhcmRJZCIsInVwZGF0ZUxpa2VzIiwiYWRkTGlrZU1lc3RvIiwiY2xvc2VzdCIsImNhcmRJZCIsInBvcHVwQ29uZmlybSIsImNoYW5nZUhhbmRsZXJTdWJtaXRGb3JtIiwicmVtb3ZlTWVzdG8iLCJnZW5lcmF0ZUNhcmQiLCJlbmFibGVWYWxpZGF0aW9uIiwicmVzZXRWYWxpZGF0aW9uIiwicG9wdXBVc2VyIiwiZm9ybUlucHV0VmFsdWVzIiwidXBkYXRlVXNlckluZm8iLCJuYW1laW5wdXQiLCJhYm91dGlucHV0IiwicG9wdXBWYWxpZGF0b3JQcm9maWxlIiwidXNlckluZm9EYXRhIiwicG9wdXBBdmF0YXIiLCJ1cGRhdGVQcm9maWxlQXZhdGFyIiwidXJsYXZhdGFyIiwicG9wdXBBdmF0YXJWYWxpZGF0b3IiXSwic291cmNlUm9vdCI6IiJ9